<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>VirtualWire: VirtualWire library for Arduino and other boards</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VirtualWire
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">VirtualWire library for Arduino and other boards </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This is the VirtualWire library.</p>
<dl class="section user"><dt>END OF LIFE NOTICE</dt><dd></dd></dl>
<p>This VirtualWire library has now been superceded by the RadioHead library <a href="http://www.airspayce.com/mikem/arduino/RadioHead">http://www.airspayce.com/mikem/arduino/RadioHead</a> RadioHead and its RH_ASK driver provides all the features supported by VirtualWire, and much more besides, including Reliable Datagrams, Addressing, Routing and Meshes. All the platforms that VirtualWire supported are also supported by RadioHead.</p>
<p>This library will no longer be maintained or updated, but we will continue to publish it for the benefit of the the community. Nevertheless we recommend upgrading to RadioHead where possible.</p>
<p>VirtualWire is a library for Arduino, Maple and others that provides features to send short messages, without addressing, retransmit or acknowledgment, a bit like UDP over wireless, using ASK (amplitude shift keying). Supports a number of inexpensive radio transmitters and receivers. All that is required is transmit data, receive data and (for transmitters, optionally) a PTT transmitter enable. Can also be used over various analog connections (not just a data radio), such as the audio channel of an A/V sender</p>
<p>It is intended to be compatible with the RF Monolithics (www.rfm.com) Virtual Wire protocol, but this has not been tested.</p>
<p>Does not use the Arduino UART. Messages are sent with a training preamble, message length and checksum. Messages are sent with 4-to-6 bit encoding for good DC balance, and a CRC checksum for message integrity.</p>
<p>But why not just use a UART connected directly to the transmitter/receiver? As discussed in the RFM documentation, ASK receivers require a burst of training pulses to synchronize the transmitter and receiver, and also requires good balance between 0s and 1s in the message stream in order to maintain the DC balance of the message. UARTs do not provide these. They work a bit with ASK wireless, but not as well as this code.</p>
<p>This library provides classes for</p>
<ul>
<li>VirtualWire: unaddressed, unreliable messages</li>
</ul>
<p>Example Arduino programs are included to show the main modes of use.</p>
<p>The version of the package that this documentation refers to can be downloaded from <a href="VirtualWire-1.27.zip">VirtualWire-1.27.zip</a> You can find the latest version at <a href="http://www.airspayce.com/mikem/arduino/VirtualWire">http://www.airspayce.com/mikem/arduino/VirtualWire</a></p>
<p>You can also find online help and disussion at <a href="http://groups.google.com/group/virtualwire">http://groups.google.com/group/virtualwire</a> Please use that group for all questions and discussions on this topic. Do not contact the author directly, unless it is to discuss commercial licensing. Before asking a question or reporting a bug, please read <a href="http://www.catb.org/esr/faqs/smart-questions.html">http://www.catb.org/esr/faqs/smart-questions.html</a></p>
<dl class="section user"><dt>Theory of operation</dt><dd></dd></dl>
<p>See ASH Transceiver Software Designer's Guide of 2002.08.07 <a href="tr_swg05.pdf">tr_swg05.pdf</a></p>
<dl class="section user"><dt>Supported Hardware</dt><dd></dd></dl>
<p>A range of communications hardware is supported. The ones listed below are available in common retail outlets in Australia and other countries for under $10 per unit. Many other modules may also work with this software.</p>
<p>Runs on a wide range of Arduino processors using Arduino IDE 1.0 or later. Also runs on on Energia with MSP430G2553 / G2452 and Arduino with ATMega328 (courtesy Yannick DEVOS - XV4Y), but untested by us. It also runs on Teensy 3.0 and 3.1 (courtesy of Paul Stoffregen) using the Arduino IDE 1.0.5 and the Teensyduino addon 1.18. Also compiles and runs on ATtiny85 in Arduino environment, courtesy r4z0r7o3. Also compiles on maple-ide-v0.0.12, and runs on Maple, flymaple 1.1 etc. Runs on ATmega8/168 (Arduino Diecimila, Uno etc), ATmega328 and can run on almost any other AVR8 platform, without relying on the Arduino framework, by properly configuring the library using '<a class="el" href="VirtualWire__Config_8h_source.html">VirtualWire_Config.h</a>' header file for describing the access to IO pins and for setting up the timer. From version 1.22 the library can be compiled by a C compiler (by renaming VirtualWire.cpp into VirtualWire.c) and can be easily integrated with other IDEs like 'Atmel Studio' for example (courtesy of Alexandru Mircescu).</p>
<ul>
<li>Receivers<ul>
<li>RX-B1 (433.92MHz) (also known as ST-RX04-ASK)</li>
</ul>
</li>
<li>Transmitters:<ul>
<li>TX-C1 (433.92MHz)</li>
</ul>
</li>
<li>Transceivers<ul>
<li>DR3100 (433.92MHz)</li>
</ul>
</li>
</ul>
<p>For testing purposes you can connect 2 VirtualWire instances directly, by connecting pin 12 of one to 11 of the other and vice versa, like this for a duplex connection:</p>
<p><code> </p>
<pre>
   Arduino 1         wires         Arduino 1
    D11-----------------------------D12
    D12-----------------------------D11
    GND-----------------------------GND
   </pre><p> </code></p>
<p>You can also connect 2 VirtualWire instances over a suitable analog transmitter/receiver, such as the audio channel of an A/V transmitter/receiver. You may need buffers at each end of the connection to convert the 0-5V digital output to a suitable analog voltage.</p>
<p>Caution: ATTiny85 has only 2 timers, one (timer 0) usually used for millis() and one (timer 1) for PWM analog outputs. The VirtualWire library, when built for ATTiny85, takes over timer 0, which prevents use of millis() etc but does permit analog outputs.</p>
<dl class="section user"><dt>Installation</dt><dd></dd></dl>
<p>To install, unzip the library into the libraries sub-directory of your Arduino application directory. Then launch the Arduino environment; you should see the library in the Sketch-&gt;Import Library menu, and example code in File-&gt;Sketchbook-&gt;Examples-&gt;VirtualWire menu.</p>
<dl class="section user"><dt>Donations</dt><dd></dd></dl>
<p>This library is offered under a free GPL license for those who want to use it that way. We try hard to keep it up to date, fix bugs and to provide free support. If this library has helped you save time or money, please consider donating at <a href="http://www.airspayce.com">http://www.airspayce.com</a> or here:</p>
 <form action="https://www.paypal.com/cgi-bin/webscr" method="post"><input type="hidden" name="cmd" value="_donations" /> <input type="hidden" name="business" value="mikem@airspayce.com" /> <input type="hidden" name="lc" value="AU" /> <input type="hidden" name="item_name" value="Airspayce" /> <input type="hidden" name="item_number" value="VirtualWire" /> <input type="hidden" name="currency_code" value="USD" /> <input type="hidden" name="bn" value="PP-DonationsBF:btn_donateCC_LG.gif:NonHosted" /> <input type="image" alt="PayPal â€” The safer, easier way to pay online." name="submit" src="https://www.paypalobjects.com/en_AU/i/btn/btn_donateCC_LG.gif" /> <img alt="" src="https://www.paypalobjects.com/en_AU/i/scr/pixel.gif" width="1" height="1" border="0" /></form> <dl class="section user"><dt>Trademarks</dt><dd></dd></dl>
<p>VirtualWire is a trademark of AirSpayce Pty Ltd. The VirtualWire mark was first used on April 20 2008 for international trade, and is used only in relation to data communications hardware and software and related services. It is not to be confused with any other similar marks covering other goods and services.</p>
<dl class="section user"><dt>Copyright</dt><dd></dd></dl>
<p>This software is Copyright (C) 2011-2014 Mike McCauley. Use is subject to license conditions. The main licensing options available are GPL V2 or Commercial:</p>
<dl class="section user"><dt>Open Source Licensing GPL V2</dt><dd></dd></dl>
<p>This is the appropriate option if you want to share the source code of your application with everyone you distribute it to, and you also want to give them the right to share who uses it. If you wish to use this software under Open Source Licensing, you must contribute all your source code to the open source community in accordance with the GPL Version 2 when your application is distributed. See <a href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</a></p>
<dl class="section user"><dt>Commercial Licensing</dt><dd></dd></dl>
<p>This is the appropriate option if you are creating proprietary applications and you are not prepared to distribute and share the source code of your application. Contact <a href="index.html#" onclick="location.href='mai'+'lto:'+'inf'+'o@'+'air'+'sp'+'ayc'+'e.'+'com'; return false;">info@<span style="display: none;">.nosp@m.</span>airs<span style="display: none;">.nosp@m.</span>payce<span style="display: none;">.nosp@m.</span>.com</a> for details.</p>
<dl class="section user"><dt>Revision History</dt><dd></dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 Original release</dd>
<dd>
1.1 2008-06-24 Now can compile for atmega8 Reported by creatrope </dd>
<dd>
1.2 2009-03-30 Fixed a problem that prevented compiling with arduino-0015 Reported by Jaime Castro </dd>
<dd>
1.3 2009-04-01 Fixed a compatibility problem with ATMEGA328 of the new arduino Now use SIGNAL(TIMER1_COMPA_vect) instead of ISR(SIG_OUTPUT_COMPARE1A) as discussed in <a href="http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1237714550/11">http://www.arduino.cc/cgi-bin/yabb2/YaBB.pl?num=1237714550/11</a> and reported by Jaime Castro. </dd>
<dd>
1.4 2010-01-29 Added vx_tx_active(), suggested by Alan Burlison. </dd>
<dd>
1.5 2011-09-09 Added vx_tx_active() function. </dd>
<dd>
1.6 2012-01-10 Fixed a problem where the receiver was always reenabled after transmission. Reported by David Bath </dd>
<dd>
1.9 2012-02-07 Documentation updates Documentation updates </dd>
<dd>
1.10 Updated CHANGES file with changes since 1.4. </dd>
<dd>
1.11 Converted documentation to Doxygen. Moved CHANGES log to this version history. Ensure vw_rx_pin is not accessed unless receiver is enabled </dd>
<dd>
1.12 Compiles and runs on on Energia with MSP430G2553 / G2452 and Arduino with ATMega328. Patches contributed by Yannick DEVOS - XV4Y </dd>
<dd>
1.13 util/crc16.h needed for compiling on Energia with MSP430G2553 / G2452 was accidentally left out of the distribution </dd>
<dd>
1.14 Added support ATtiny85 on Arduino, patch provided by r4z0r7o3. </dd>
<dd>
1.15 Updated author and distribution location details to airspayce.com </dd>
<dd>
1.16 Added support for Teensy 3.0, contributed by Paul Stoffregen. </dd>
<dd>
1.17 Increase default MAX_MESSAGE_LENGTH to 80. Added <a class="el" href="VirtualWire_8h.html#a44d0e9546034cc5462c8388e8c5db21a">vw_get_rx_good()</a> and <a class="el" href="VirtualWire_8h.html#a06089a9e41e3f5f84498b2b6b8af1a99">vw_get_rx_bad()</a> functions. </dd>
<dd>
1.18 Added support for Maple, Flymaple etc with STM32F103RE processor using timer 1. Tested with Flymaple 1.1 and maple-ide-v0.0.12 </dd>
<dd>
1.19 Added new function vw_rx_inverted(), to allow the incoming RX to be inverted (normally high). Minor improvements to timer setup for Maple. Name <a class="el" href="VirtualWire_8h.html#a69e1646623c26c7f8ff3cf8926dd170a">vw_tx_active()</a> changed from incorrect vx_tx_active() </dd>
<dd>
1.20 Added support for ATtiny84, patched by Chuck Benedict. </dd>
<dd>
1.21 Added support for most AVR8 platforms with proper configuration, without depending on Arduino environment, such as Atmega32u2, Atmega32U4, At90USB162 etc, contributed by Alexandru Daniel Mircescu. </dd>
<dd>
1.22 Alexandru Daniel Mircescu fixed some problems with the recently added AtMega32U2 support. </dd>
<dd>
1.23 Fixed some errors and inaccuracies in documentation, with the kind assistance of Alexandru Mircescu. </dd>
<dd>
1.24 Minor performance improvement to vw_symbol_6to4() courtesy Ralph Doncaster. </dd>
<dd>
1.25 Removed all use of floating point code, with assistance of a patch from Jim Remington. Result is smaller code size. </dd>
<dd>
1.26 Removed util/crc16.h from distribution, since it is now included in arduino IDE since version 1.0. Support for arduino IDE prior to 1.0 is now abandoned. </dd>
<dd>
1.27 Reinstated VWutil/crc16.h for the benefit of other platforms such as Teensy. Testing on Teensy 3.1. Added End Of Life notice. This library will no longer be maintained and updated: use RadioHead instead.</dd></dl>
<dl class="section user"><dt>Implementation Details</dt><dd>See: <a href="VirtualWire.pdf">VirtualWire.pdf</a></dd></dl>
<dl class="section user"><dt>Performance</dt><dd>See: <a href="VirtualWire.pdf">VirtualWire.pdf</a></dd></dl>
<dl class="section user"><dt>Connections</dt><dd>See: <a href="VirtualWire.pdf">VirtualWire.pdf</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
